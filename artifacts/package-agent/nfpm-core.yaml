name: eguard-agent
arch: amd64
platform: linux
version: "0.1.0"
release: "1"
maintainer: eGuard Team <info@eguard.id>
description: eGuard endpoint agent package
license: GPL-2.0-or-later
depends:
  - systemd
scripts:
  postinstall: packaging/postinstall.sh
  preremove: packaging/preremove.sh
contents:
  - src: /home/dimas/eguard-agent/artifacts/package-agent/stage/core/usr/bin/eguard-agent
    dst: /usr/bin/eguard-agent
    file_info:
      mode: 0755
  - src: /home/dimas/eguard-agent/artifacts/package-agent/stage/core/usr/lib/systemd/system/eguard-agent.service
    dst: /usr/lib/systemd/system/eguard-agent.service
    file_info:
      mode: 0644
  - src: /home/dimas/eguard-agent/artifacts/package-agent/stage/core/etc/eguard-agent/agent.conf
    dst: /etc/eguard-agent/agent.conf
    type: config|noreplace
    file_info:
      mode: 0644
  - src: /home/dimas/eguard-agent/artifacts/package-agent/stage/core/usr/lib/eguard-agent/ebpf/process_exec.bpf.o
    dst: /usr/lib/eguard-agent/ebpf/process_exec.bpf.o
  - src: /home/dimas/eguard-agent/artifacts/package-agent/stage/core/usr/lib/eguard-agent/ebpf/file_open.bpf.o
    dst: /usr/lib/eguard-agent/ebpf/file_open.bpf.o
  - src: /home/dimas/eguard-agent/artifacts/package-agent/stage/core/usr/lib/eguard-agent/ebpf/tcp_connect.bpf.o
    dst: /usr/lib/eguard-agent/ebpf/tcp_connect.bpf.o
  - src: /home/dimas/eguard-agent/artifacts/package-agent/stage/core/usr/lib/eguard-agent/ebpf/dns_query.bpf.o
    dst: /usr/lib/eguard-agent/ebpf/dns_query.bpf.o
  - src: /home/dimas/eguard-agent/artifacts/package-agent/stage/core/usr/lib/eguard-agent/ebpf/module_load.bpf.o
    dst: /usr/lib/eguard-agent/ebpf/module_load.bpf.o
  - src: /home/dimas/eguard-agent/artifacts/package-agent/stage/core/usr/lib/eguard-agent/ebpf/lsm_block.bpf.o
    dst: /usr/lib/eguard-agent/ebpf/lsm_block.bpf.o
  - src: /home/dimas/eguard-agent/artifacts/package-agent/stage/core/usr/lib/eguard-agent/lib/libeguard_asm.a
    dst: /usr/lib/eguard-agent/lib/libeguard_asm.a
  - src: /home/dimas/eguard-agent/artifacts/package-agent/stage/core/var/lib/eguard-agent/baselines/seed.bin
    dst: /var/lib/eguard-agent/baselines/seed.bin
  - dst: /var/lib/eguard-agent/rules
    type: dir
  - dst: /var/lib/eguard-agent/rules-staging
    type: dir
  - dst: /var/lib/eguard-agent/quarantine
    type: dir
overrides:
  rpm:
    depends:
      - systemd
